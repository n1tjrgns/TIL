## 엘라스틱서치(ElasticSearch) 란

##### 엘라스틱 서치

- 아파치 루신(Apache Lucene)을 기반으로 개발된 오픈소스 분산 `검색 엔진(서버)`
- JSON 기반의 비정형 데이터 분산 검색과 분석을 지원
- 설치와 서버확장이 매우 편리(플러그인 형태), AWS와 하둡 연동 지원
- 분산시스템으로 검색 대상의 용량이 증가해도 대응하기 수월
- 앞으로 광범위한 검색과 분석 서비스에 활용될 전망



해쉬 테이블 방식이여서 검색 속도는 O(1), 반면 RDB의 경우 문서 개수만큼 연산이 수행되기 때문에 O(n)의 속도.

##### 특징

1. 분산과 확장성, 병렬 처리

   - ES는 보통 3개 이상으로 구성하고 클러스터로 묶어서 처리하기 때문에 하나의 샤드(shard)가 깨져도 복제되어 있는 다른 곳에 자동적으로 이동해 보여주기 때문에 SPOF(Single Point Of Failure)를 제거 한다.
   - 데이터의 분산과 병렬 처리가 되므로 실시간 검색 및 분석을 할 수 있고, 수평적으로 늘어나도록 설계되어 있기 때문에 더 많은 용량이 필요하면 노드(ES 서버)를 추가하고 클러스터에 추가 후, 추가적인 하드웨어로 이용할 수 있도록 해주면 된다. (같은 클러스터 내에는 초기설정 그대로 되지만, 다른 클러스터에 있다면 설정 필요)
2. 고가용성

   - ES는 동작중에 죽은 노드를 감지하고 삭제하며, 사용자의 데이터가 안전하고 접근가능하도록 유지해 동작 중 일부 노드에 문제가 생겨도 문제없이 서비스 제공가능.
3. 멀티 테넌시

   - 클러스터는 여러개의 인덱스들을 저장하고 관리할 수 있고, 독립된 하나의 쿼리 혹은 그룹 쿼리로 여러 인덱스의 데이터를 검색할 수 있다.
4. 전문 검색(Full text search)

   - ES는 강력한 full text search를 지원한다.
5. 문서 중심(Document oriented)
   - 복잡한 현실세계의 요소들을 구조화된 JSON 문서 형식으로 저장한다.
   - 모든 필드는 기본적으로 인덱싱되며, 모든 인덱스들은 단일 쿼리로 빠르게 사용할 수 있다.
6. Schema free
   - JSON 문서 구조를 통해 데이터를 인덱싱하고 검색가능하게 한다.
   - 사용자의 데이터가 어떻게 인덱싱 될지는 커스터마이징 가능 
7. 플러그인 형태 구현
   - 검색엔진을 직접 수행하지 않고 필요한 기능에 대한 플러그인을 적용하여 기능을 확장할 수 있다.
   - ex) 형태소 분석기, REST API



##### Elastic Search vs Relational DB

| Elastic Search | Relational DB |
| :------------: | :-----------: |
|     Index      |   Database    |
|      Type      |     Table     |
|    Document    |      Row      |
|     Field      |    Column     |
|    Mapping     |    Schema     |



##### Elastic Search를 REST API를 사용해 관계형 데이터 베이스간 관계

| Elastic Search | Relational DB |  CRUD  |
| :------------: | :-----------: | :----: |
|      GET       |    SELECT     |  READ  |
|      PUT       |    UPDATE     | UPDATE |
|      POST      |    INSERT     | CREATE |
|     DELETE     |    DELETE     | DELETE |



ES는 JVM 위에서 돌아가기 때문에 JVM 설치가 필요하다.